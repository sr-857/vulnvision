<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VulnVision ¬∑ Passive Recon Control Center</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <canvas id="background" aria-hidden="true"></canvas>

    <div class="page">
      <aside class="sidebar">
        <div class="sidebar__brand">
          <div class="sidebar__logo" aria-hidden="true">üõ∞Ô∏è</div>
          <div>
            <p class="sidebar__title">VulnVision</p>
            <p class="sidebar__subtitle">Passive Recon Intelligence</p>
          </div>
        </div>

        <nav class="sidebar__nav" aria-label="Primary views">
          <div class="nav-group">
            <span class="nav-group__label">Overview</span>
            <a class="nav-item nav-item--active" href="#hero"><span class="nav-item__icon">‚ö°</span>Command Center</a>
            <a class="nav-item" href="#dashboard"><span class="nav-item__icon">üìä</span>Dashboard</a>
            <a class="nav-item" href="#assets"><span class="nav-item__icon">üéÅ</span>Demo Toolkit</a>
          </div>
          <div class="nav-group">
            <span class="nav-group__label">Resources</span>
            <a class="nav-item" href="../examples/demo_report.html" target="_blank"><span class="nav-item__icon">üìÑ</span>Sample Report</a>
            <a class="nav-item" href="https://github.com/sr-857/vulnvision" target="_blank"><span class="nav-item__icon">üíª</span>Repository</a>
            <a class="nav-item" href="https://github.com/sr-857/vulnvision/releases" target="_blank"><span class="nav-item__icon">üöÄ</span>Releases</a>
          </div>
        </nav>
      </aside>

      <main class="main">
        <header class="main__hero" id="hero">
          <div class="hero__content">
            <div class="hero__badge">Passive recon ¬∑ No intrusive traffic ¬∑ Analyst ready</div>
            <h1>Passive Recon Control Center</h1>
            <p>
              Lift your recon posture with VulnVision. Ingest a target once, fingerprint technology, grade browser defenses,
              inspect TLS health, surface exposures, and ship executive-ready HTML reports in under a minute.
            </p>
            <div class="hero__cta">
              <a class="btn btn--accent" href="#dashboard">Launch interactive walkthrough</a>
              <a class="btn" href="../examples/demo_report.html" target="_blank">View sample report</a>
            </div>
          </div>
          <div class="hero__metrics" aria-label="Recon highlights">
            <article>
              <h3>Targets profiled</h3>
              <strong>18</strong>
              <span>Passive scans this quarter</span>
            </article>
            <article>
              <h3>Headers graded</h3>
              <strong>108</strong>
              <span>Browser defenses per scan</span>
            </article>
            <article>
              <h3>Exposures surfaced</h3>
              <strong>6</strong>
              <span>High-signal endpoints detected</span>
            </article>
          </div>
        </header>

        <section class="dashboard" id="dashboard">
          <div class="dashboard__grid">
            <article class="panel" id="card-risk">
              <header>
                <h2>Risk Snapshot</h2>
                <span>Aggregated posture across headers, TLS, and exposures.</span>
              </header>
              <div class="panel__body" data-field="risk"></div>
            </article>

            <article class="panel" id="card-tech">
              <header>
                <h2>Technology Fingerprints</h2>
                <span>Frameworks and infrastructure inferred passively.</span>
              </header>
              <div class="panel__body">
                <ul class="pill-list" data-field="tech"></ul>
              </div>
            </article>

            <article class="panel" id="card-tls">
              <header>
                <h2>TLS Intelligence</h2>
                <span>Certificate summary and actionable warnings.</span>
              </header>
              <div class="panel__body">
                <dl class="definition" data-field="tls"></dl>
                <ul class="pill-list pill-list--inline" data-field="tls-findings"></ul>
              </div>
            </article>

            <article class="panel" id="card-exposures">
              <header>
                <h2>Passive Exposures</h2>
                <span>High-signal endpoints flagged without intrusive probing.</span>
              </header>
              <div class="panel__body">
                <ul class="pill-list" data-field="exposure-highlights"></ul>
              </div>
            </article>
          </div>

          <div class="tables">
            <article class="panel panel--wide" id="technology">
              <header>
                <h2>Technology Details</h2>
                <span>Confidence levels and passive evidence.</span>
              </header>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Technology</th>
                      <th>Confidence</th>
                      <th>Evidence</th>
                    </tr>
                  </thead>
                  <tbody data-field="tech-table"></tbody>
                </table>
              </div>
            </article>
            <article class="panel panel--wide">
              <header>
                <h2>Security Headers</h2>
                <span>Presence, quality, and remediation hints.</span>
              </header>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Header</th>
                      <th>Status</th>
                      <th>Value</th>
                      <th>Note</th>
                    </tr>
                  </thead>
                  <tbody data-field="headers"></tbody>
                </table>
              </div>
            </article>

            <article class="panel panel--wide">
              <header>
                <h2>Passive Exposure Log</h2>
                <span>Endpoints discovered during passive reconnaissance.</span>
              </header>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Path</th>
                      <th>Status</th>
                      <th>Risk</th>
                      <th>Detail</th>
                    </tr>
                  </thead>
                  <tbody data-field="exposures"></tbody>
                </table>
              </div>
            </article>

            <article class="panel panel--wide">
              <header>
                <h2>Response Headers</h2>
                <span>Raw snapshot of the target exchange.</span>
              </header>
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Header</th>
                      <th>Value</th>
                    </tr>
                  </thead>
                  <tbody data-field="response"></tbody>
                </table>
              </div>
            </article>
          </div>
        </section>

        <section class="assets" id="assets">
          <div class="assets__intro">
            <h2>Demo toolkit</h2>
            <p>Everything you need to showcase VulnVision in 60 seconds.</p>
          </div>
          <div class="assets__grid">
            <article class="asset-card">
              <header>
                <h3>Sample HTML report</h3>
                <p><a href="../examples/demo_report.html" target="_blank">examples/demo_report.html ‚Üí</a></p>
              </header>
              <p>Evidence-ready export that mirrors the live dashboard. Attach to hackathon submissions or client briefings.</p>
              <footer>Generated via `/report` endpoint.</footer>
            </article>
            <article class="asset-card">
              <header>
                <h3>Docker demo stack</h3>
                <p><code>./scripts/demo.sh</code></p>
              </header>
              <p>Launches FastAPI backend + static dashboard instantly. Perfect for conference Wi-Fi or borrowed laptops.</p>
              <footer>Frontend :8080 ¬∑ Backend :8000 ¬∑ `docker compose down` to stop</footer>
            </article>
            <article class="asset-card">
              <header>
                <h3>Live scan checklist</h3>
                <p>60-second walkthrough</p>
              </header>
              <p>Run `uvicorn`, open dashboard, scan OWASP Juice Shop, narrate findings, export HTML report.</p>
              <footer>See README Quickstart for full script.</footer>
            </article>
          </div>
        </section>

        <footer class="footer">
          <p>¬© <span data-field="year"></span> VulnVision ¬∑ Passive Recon Intelligence.</p>
          <small>MIT Licensed ¬∑ Zero intrusive network traffic ¬∑ Analyst approved.</small>
        </footer>
      </main>
    </div>

    <script>
      const DATA = {
        risk: {
          level: "Medium",
          reasons: [
            "Missing security header: Content-Security-Policy",
            "TLS certificate expires within 30 days",
            "robots.txt reveals admin endpoints",
          ],
        },
        tech_stack: [
          { name: "Angular", confidence: "High", evidence: "script src=/main-es2015.js" },
          { name: "Express.js", confidence: "Medium", evidence: "x-powered-by: Express" },
          { name: "Cloudflare", confidence: "Medium", evidence: "server: cloudflare" },
        ],
        tls: {
          Subject: "CN=demo.owasp-juice.shop",
          Issuer: "Cloudflare Inc ECC CA-3",
          Validity: "2025-01-05 ‚Üí 2025-04-05",
          "Days Remaining": "32",
          Key: "EllipticCurvePublicKey (256 bits)",
          Signature: "ecdsa-with-SHA256",
          findings: ["Certificate expires within 45 days"],
        },
        exposures: [
          { path: "/robots.txt", status: "200", risk: "Medium", detail: "robots.txt reveals sensitive paths" },
          { path: "/admin", status: "302", risk: "Medium", detail: "Admin portal accessible" },
          { path: "/.git/", status: "403", risk: "Low", detail: "Path protected but accessible" },
        ],
        headers: [
          { header: "Content-Security-Policy", status: "Missing", value: "‚Äî", note: "Header not present" },
          { header: "X-Frame-Options", status: "Needs review", value: "ALLOWALL", note: "Unexpected value" },
          { header: "X-Content-Type-Options", status: "Secure", value: "nosniff", note: "OK" },
          { header: "Strict-Transport-Security", status: "Secure", value: "max-age=31536000; includeSubDomains", note: "OK" },
          { header: "Referrer-Policy", status: "Missing", value: "‚Äî", note: "Header not present" },
          { header: "Permissions-Policy", status: "Missing", value: "‚Äî", note: "Define policies for sensors" },
        ],
        responseHeaders: {
          "content-type": "text/html; charset=utf-8",
          "x-powered-by": "Express",
          server: "cloudflare",
          "cache-control": "public, max-age=0, must-revalidate",
        },
      };

      const background = document.getElementById("background");
      const ctx = background.getContext("2d");

      function resizeBackground() {
        background.width = window.innerWidth;
        background.height = window.innerHeight;
        renderBackground();
      }

      function renderBackground() {
        const gradient = ctx.createRadialGradient(
          background.width * 0.9,
          background.height * 0.15,
          background.width * 0.2,
          background.width * 0.5,
          background.height * 0.65,
          background.width
        );
        gradient.addColorStop(0, "rgba(18, 200, 255, 0.24)");
        gradient.addColorStop(0.4, "rgba(41, 255, 212, 0.18)");
        gradient.addColorStop(1, "rgba(5, 9, 28, 0.96)");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, background.width, background.height);

        ctx.strokeStyle = "rgba(90, 150, 255, 0.14)";
        ctx.lineWidth = 1;
        for (let i = 0; i < 24; i++) {
          ctx.beginPath();
          ctx.arc(
            Math.random() * background.width,
            Math.random() * background.height,
            Math.random() * 160 + 80,
            0,
            Math.PI * 2
          );
          ctx.stroke();
        }
      }

      function renderData() {
        document.querySelector("[data-field=year]").textContent = new Date().getFullYear();

        const riskNode = document.querySelector("[data-field=risk]");
        const badge = document.createElement("span");
        badge.className = `pill pill--${DATA.risk.level.toLowerCase()}`;
        badge.textContent = DATA.risk.level;
        const list = document.createElement("ul");
        DATA.risk.reasons.forEach(reason => {
          const li = document.createElement("li");
          li.textContent = reason;
          list.appendChild(li);
        });
        riskNode.appendChild(badge);
        riskNode.appendChild(list);

        const techPills = document.querySelector("[data-field=tech]");
        const techTable = document.querySelector("[data-field=tech-table]");
        DATA.tech_stack.forEach(tech => {
          const pill = document.createElement("li");
          pill.innerHTML = `<strong>${tech.name}</strong><small>${tech.confidence} ¬∑ ${tech.evidence}</small>`;
          techPills.appendChild(pill);

          const row = document.createElement("tr");
          row.innerHTML = `<td>${tech.name}</td><td>${tech.confidence}</td><td><code>${tech.evidence}</code></td>`;
          techTable.appendChild(row);
        });

        const tlsDef = document.querySelector("[data-field=tls]");
        Object.entries(DATA.tls)
          .filter(([key]) => key !== "findings")
          .forEach(([label, value]) => {
            const dt = document.createElement("dt");
            dt.textContent = label;
            const dd = document.createElement("dd");
            dd.textContent = value;
            tlsDef.appendChild(dt);
            tlsDef.appendChild(dd);
          });

        const tlsList = document.querySelector("[data-field=tls-findings]");
        DATA.tls.findings.forEach(f => {
          const pill = document.createElement("li");
          pill.className = "pill pill--medium";
          pill.textContent = f;
          tlsList.appendChild(pill);
        });

        const exposureHighlightList = document.querySelector("[data-field=exposure-highlights]");
        const exposuresTable = document.querySelector("[data-field=exposures]");
        DATA.exposures.forEach(exposure => {
          const pill = document.createElement("li");
          pill.innerHTML = `<strong>${exposure.path}</strong><small>${exposure.risk} risk ‚Ä¢ ${exposure.detail}</small>`;
          exposureHighlightList.appendChild(pill);

          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${exposure.path}</td>
            <td>${exposure.status}</td>
            <td><span class="pill pill--${exposure.risk.toLowerCase()}">${exposure.risk}</span></td>
            <td>${exposure.detail}</td>
          `;
          exposuresTable.appendChild(row);
        });

        const headersTable = document.querySelector("[data-field=headers]");
        DATA.headers.forEach(header => {
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${header.header}</td>
            <td><span class="pill pill--${header.status.toLowerCase().replace(/\s/g, '-')}">${header.status}</span></td>
            <td>${header.value}</td>
            <td>${header.note}</td>
          `;
          headersTable.appendChild(row);
        });

        const responseTable = document.querySelector("[data-field=response]");
        Object.entries(DATA.responseHeaders).forEach(([name, value]) => {
          const row = document.createElement("tr");
          row.innerHTML = `<td>${name}</td><td><code>${value}</code></td>`;
          responseTable.appendChild(row);
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        resizeBackground();
        renderData();
        window.addEventListener("resize", resizeBackground);
      });
    </script>
  </body>
</html>
